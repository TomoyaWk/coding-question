# Coding Question 作成スキル

このスキルは、Python初級者向けのコーディング問題を作成するためのガイドラインです。

## プロジェクト構造

```
coding-question/
├── pyproject.toml          # プロジェクト設定（uv使用）
├── question/
│   └── questionN.md        # 問題文
├── answer/
│   ├── __init__.py
│   └── questionN.py        # ユーザーが作成する解答
└── tests/
    └── test_questionN.py   # テストコード
```

## 重要: 役割分担

| ファイル | 作成者 | 説明 |
|----------|--------|------|
| question/questionN.md | AI | 問題文を作成 |
| tests/test_questionN.py | AI | テストコードを作成 |
| answer/questionN.py | **ユーザー** | ユーザー自身が解答を実装 |

**注意**: AIは解答例（answer/）を作成しません。ユーザーが問題を解いて実装します。

## 問題作成のルール

### 1. 問題の難易度

- **対象レベル**: 初級（プログラミング基礎を学んだ段階）
- **想定解答時間**: 15〜30分程度
- **使用ライブラリ**: 基本は標準ライブラリのみ。必要に応じてメジャーなライブラリ（`numpy`, `pandas`等）は許可

### 2. 問題のテーマとアルゴリズム（問題文とは別に管理）

各問題には以下のメタ情報を設定してください：

| メタ項目 | 説明 | 例 |
|---------|------|-----|
| テーマ | 問題が扱う実用的な場面 | 設定管理、データ処理、文字列操作 |
| アルゴリズム | 使用する主なアルゴリズム・データ構造 | 集合演算、ループ、スライディングウィンドウ |
| 難易度 | ★〜★★★ | ★★ |
| キーワード | 学習ポイント | dict, set, 条件分岐 |

### 3. 問題文のフォーマット（question/questionN.md）

```markdown
# 問題N: [問題タイトル]

[問題の説明文 - 何を作るか簡潔に説明]

## 要件
- [要件1]
- [要件2]
- [要件3]
- ...

## 関数シグネチャ
\```python
def function_name(param1: type1, param2: type2) -> return_type:
    ...
\```

## 例
入力:
\```python
param1 = ...
param2 = ...
\```

出力:
\```python
[期待される出力]
\```

## 追加例
入力:
\```python
...
\```

出力:
\```python
...
\```
```

### 4. 解答ファイル（answer/questionN.py）- ユーザーが作成

**⚠️ このファイルはユーザー自身が作成します。AIは作成しません。**

ユーザーが解答を作成する際の推奨フォーマット:

```python
from __future__ import annotations

from typing import Any  # 必要に応じてインポート


def function_name(param1: type1, param2: type2) -> return_type:
    """関数の説明（docstringは任意）"""
    # 実装
    ...
```

**ユーザーへの注意点**:
- 型ヒントを必ず付ける（mypy strict対応）
- Python 3.9以上で動作すること
- `from __future__ import annotations` を使用

### 5. テストファイルのフォーマット（tests/test_questionN.py）

```python
from answer.questionN import function_name


def test_function_name_basic() -> None:
    """基本ケースのテスト"""
    # 問題文の例と同じケース
    assert function_name(...) == ...


def test_function_name_edge_case1() -> None:
    """エッジケース1のテスト"""
    assert function_name(...) == ...


def test_function_name_edge_case2() -> None:
    """エッジケース2のテスト"""
    assert function_name(...) == ...

# 最低3〜5個のテストケースを用意
```

## 実行コマンド（uv使用）

```bash
# テストの実行
uv run pytest tests/test_questionN.py -v

# 全テストの実行
uv run pytest

# 型チェック
uv run mypy answer/questionN.py

# リンター
uv run ruff check answer/questionN.py
```

## 問題テーマのアイデア

### 初級向けテーマ例

| テーマ | アルゴリズム | 問題例 |
|--------|------------|--------|
| 文字列操作 | ループ、カウント | 文字頻度カウント、パリンドローム判定 |
| リスト処理 | フィルタリング、マッピング | 条件抽出、変換処理 |
| 辞書操作 | 集合演算、キー操作 | 差分比較、マージ処理 |
| 数値計算 | 条件分岐、剰余 | FizzBuzz変種、素数判定 |
| データ圧縮 | ランレングス符号化 | 文字列圧縮・展開 |
| ウィンドウ処理 | スライディングウィンドウ | 移動平均、最大値検出 |
| スタック/キュー | LIFO/FIFO操作 | 括弧の対応チェック |
| 再帰 | 分割統治 | 階乗、フィボナッチ |

## ヒント提供のガイドライン

ユーザーがヒントを求めた場合は、**答えを直接提供せず**、以下の方針で導いてください：

### ヒントレベル1（考え方の方向性）
- 問題を分解して考えるよう促す
- 使えそうなデータ構造を示唆
- 例：「この問題では、まず○○を特定してから△△を処理すると考えやすいです」

### ヒントレベル2（アルゴリズムの示唆）
- 使用すべきアルゴリズムや手法を名前で示す
- 例：「集合（set）の演算を使うと、共通要素や差分を簡単に求められます」

### ヒントレベル3（擬似コードレベル）
- 処理の流れを日本語で説明
- コードは書かない
- 例：「1. 入力を走査して○○を集める 2. 集めた○○を使って△△を計算 3. 結果を整形して返す」

### ヒント提供時の注意
- 直接的な解答コードは提供しない
- 一度に全てを教えず、段階的にヒントを出す
- ユーザーが自分で考える余地を残す
- 「考えてみてください」「試してみてください」などの促しを入れる

## 問題作成時のチェックリスト（AI用）

- [ ] 問題文は明確で曖昧さがないか
- [ ] 関数シグネチャの型ヒントは正確か
- [ ] 例と追加例で動作が理解できるか
- [ ] テストケースは十分なカバレッジがあるか
- [ ] エッジケース（空入力、境界値など）を考慮しているか
- [ ] 問題のメタ情報（テーマ、アルゴリズム）を記録したか
- [ ] **解答ファイル（answer/）は作成していないか**

## ユーザーの解答チェック用コマンド

ユーザーが解答を作成した後、以下のコマンドで検証:

```bash
# テスト実行
uv run pytest tests/test_questionN.py -v

# 型チェック
uv run mypy answer/questionN.py

# リンター
uv run ruff check answer/questionN.py
```
